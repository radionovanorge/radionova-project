{% extends "tears/base.html" %}
{% load wagtailcore_tags wagtailimages_tags static %}

{% block content %}
<!-- Main content -->
{% load tailwind_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="{% static 'tears/css/footer.css' %}">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="{% static 'tears/js/base.js' %}"></script>
  <script src="{% static 'tears/js/programmerSlider.js' %}"></script>

<style>
    
      
.interview-parallelogram {
  background: #511120;
  transform: skewX(-20deg); /* ← makes it parallelogram */
  border: 2px solid white; /* Full white border */
  display: inline-block;
  z-index: 4;
}

/* Inside text correction: */
.interview-parallelogram > * {
  transform: skewX(20deg); /* ← Reverses skew inside so text stays straight */
}
.interview-parallelogram-small {
  background: #511120;
  transform: skewX(-20deg);
 
  display: inline-block;
  z-index: 4;
}

.interview-parallelogram-small > * {
  transform: skewX(20deg); /* optional if you wrap text inside a span */
}
      
</style>

</head>

<body > <!-- #ToDo background color FBF9FA -->



  <div id="hovedinnhold" class="min-h-screen bg-[#FBF9FA]">
    <!-- Content will be added here -->
 

  <!-- NETTSAKER -->
  <main class="max-w-[950px] mx-auto px-4 py-8 ">
    <div class="grid grid-cols-1 lg:grid-cols-6 gap-6">

      {% for post in latest_posts %}

      {% if forloop.counter == 1 %}
      <!-- First big article (left) -->
      <a href="{{ post.url }}"
        class="col-span-1 sm:col-span-1 lg:col-span-4 bg-white shadow-sm flex flex-col group">
        <div class="relative">
          {% for block in post.body %}
          {% if block.block_type == 'main_image' %}
          {% image block.value fill-1200x500 as img %}
          <img src="{{ img.url }}" alt="{{ post.title }}" class="w-full h-80 object-cover">
          {% endif %}
          {% endfor %}
        <!--  {% if post.typeArticle == "intervju" or post.typeArticle == "anmeldelse" %}-->
        <!--  <div class="absolute bottom-0 left-2 translate-y-1/2">-->
        <!--    <div class="interview-parallelogram text-white text-xs font-bold px-8 py-2">-->
        <!--      {{ post.get_typeArticle_display }}-->
        <!--    </div>-->
        <!--  </div>-->
        <!--  {% endif %}-->

        </div> 
        <div class="p-4 flex flex-col flex-1">  
          <h2 class="font-inter text-[24px] leading-[1.5] text-[#6F1228] group-hover:text-red-700">{{ post.title }}</h2>
          <!-- dette her er tags <div class="flex flex-wrap gap-2 mt-2">
            {% if post.program and post.program.category %}
              {% with category_name=post.program.get_category_display %}
                {% if category_name == 'Aktualitet' %}
                  <span class="text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full">{{ category_name }}</span>
                {% elif category_name == 'Humor & underholdning' %}
                  <span class="text-xs px-2 py-1 bg-pink-100 text-pink-700 rounded-full">{{ category_name }}</span>
                {% elif category_name == 'Kultur' %}
                  <span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full">{{ category_name }}</span>
                {% elif category_name == 'Musikk' %}
                  <span class="text-xs px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full">{{ category_name }}</span>
                {% elif category_name == 'Tema' %}
                  <span class="text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full">{{ category_name }}</span>
                {% elif category_name == 'Tidligere programmer' %}
                  <span class="text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded-full">{{ category_name }}</span>
                {% else %}
                  <span class="text-xs px-2 py-1 bg-neutral-100 text-neutral-700 rounded-full">{{ category_name }}</span>
                {% endif %}
              {% endwith %}
            {% endif %}
          </div>
           -->
        </div>
       
        

      </a>

      {% elif forloop.counter == 2 %}
      <!-- First row, second article (smaller) -->
      <a href="{{ post.url }}"
        class="col-span-1 sm:col-span-1 lg:col-span-2 bg-white shadow-sm overflow-hidden flex flex-col group">
        <div class="relative">
          {% for block in post.body %}
          {% if block.block_type == 'main_image' %}
          {% image block.value fill-600x400 as img %}
          <img src="{{ img.url }}" alt="{{ post.title }}" class="w-full h-80 object-cover">
          {% endif %}
          {% endfor %}
            <!--  {% if post.typeArticle == "intervju" or post.typeArticle == "anmeldelse" %}-->
        <!--  <div class="absolute bottom-0 left-2 translate-y-1/2">-->
        <!--    <div class="interview-parallelogram text-white text-xs font-bold px-8 py-2">-->
        <!--      {{ post.get_typeArticle_display }}-->
        <!--    </div>-->
        <!--  </div>-->
        <!--  {% endif %}-->

        </div>
        <div class="p-4 flex flex-col flex-1">
          <h2 class="font-inter text-[24px] leading-[1.5] text-[#6F1228] group-hover:text-red-700">{{ post.title }}</h2>
        </div>
      </a>

      {% elif forloop.counter == 3 or forloop.counter == 4 %}
      <!-- Second row: 2 articles side-by-side -->
      <a href="{{ post.url }}"
        class="col-span-1 sm:col-span-1 lg:col-span-3 bg-white shadow-sm overflow-hidden flex flex-col group">
        <div class="relative">
          {% for block in post.body %}
          {% if block.block_type == 'main_image' %}
          {% image block.value fill-600x400 as img %}
          <img src="{{ img.url }}" alt="{{ post.title }}" class="w-full h-64 object-cover">
          {% endif %}
          {% endfor %}
            <!--  {% if post.typeArticle == "intervju" or post.typeArticle == "anmeldelse" %}-->
        <!--  <div class="absolute bottom-0 left-2 translate-y-1/2">-->
        <!--    <div class="interview-parallelogram text-white text-xs font-bold px-8 py-2">-->
        <!--      {{ post.get_typeArticle_display }}-->
        <!--    </div>-->
        <!--  </div>-->
        <!--  {% endif %}-->

        </div>
        <div class="p-4 flex flex-col flex-1">
          <h2 class="font-inter text-[24px] leading-[1.5] text-[#6F1228] group-hover:text-red-700">{{ post.title }}</h2>
        </div>
      </a>

      {% elif forloop.counter == 5 %}
      <!-- Third row: Big embed on left -->
      <a href="{{ post.url }}"
        class="col-span-1 sm:col-span-1 lg:col-span-3 bg-white overflow-hidden shadow-sm flex flex-col group">
        <div class="relative">
          <div style="left: 0; width: 100%; height: 362px; position: relative;"><iframe src="https://open.spotify.com/embed/playlist/5Hqkssg2WuVi5lVnnoImNk?utm_source=generator" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute; border: 0;" allowfullscreen allow="clipboard-write *; encrypted-media *; fullscreen *; picture-in-picture *;"></iframe></div>

        </div>
        
      </a>

      
      <!-- Third row: stacked small articles -->
      <div class="col-span-1 sm:col-span-1 lg:col-span-3 flex flex-col gap-8">
        <a href="{{ post.url }}" class="bg-white overflow-hidden shadow-sm group max-lg:flex-col lg:flex">
  <div class="relative max-lg:w-full lg:w-1/2">
    {% for block in post.body %}
      {% if block.block_type == 'main_image' %}
        {% image block.value fill-300x200 as img %}
        <img src="{{ img.url }}" alt="{{ post.title }}"
             class="w-full max-lg:h-48 lg:h-full object-cover">
      {% endif %}
    {% endfor %}

    <!--{% if post.typeArticle == "intervju" or post.typeArticle == "anmeldelse" %}-->
    <!--  <div class="absolute bottom-3 left-0 translate-y-1/2">-->
    <!--    <div class="interview-parallelogram-small text-white text-[10px] font-bold px-3 py-1">-->
    <!--      {{ post.get_typeArticle_display }}-->
    <!--    </div>-->
    <!--  </div>-->
    <!--{% endif %}-->
      
  </div>

  <div class="flex flex-col justify-center p-4 max-lg:w-full lg:flex-1">
    <h2 class="text-base font-inter leading-[1.5] text-[#6F1228] mb-2 group-hover:text-red-700">
      {{ post.title }}
    </h2>
  </div>
</a>

        {% elif forloop.counter == 6 %}
       <a href="{{ post.url }}" class="bg-white overflow-hidden shadow-sm group max-lg:flex-col lg:flex">
  <div class="relative max-lg:w-full lg:w-1/2">
    {% for block in post.body %}
      {% if block.block_type == 'main_image' %}
        {% image block.value fill-300x200 as img %}
        <img src="{{ img.url }}" alt="{{ post.title }}"
             class="w-full max-lg:h-48 lg:h-full object-cover">
      {% endif %}
    {% endfor %}

   <!--  {% if post.typeArticle == "intervju" or post.typeArticle == "anmeldelse" %}-->
        <!--  <div class="absolute bottom-0 left-2 translate-y-1/2">-->
        <!--    <div class="interview-parallelogram text-white text-xs font-bold px-8 py-2">-->
        <!--      {{ post.get_typeArticle_display }}-->
        <!--    </div>-->
        <!--  </div>-->
        <!--  {% endif %}-->
  </div>

  <div class="flex flex-col justify-center p-4 max-lg:w-full lg:flex-1">
    <h2 class="text-base font-inter leading-[1.5] text-[#6F1228] group-hover:text-red-700">
      {{ post.title }}
    </h2>
  </div>
</a>
      </div> <!-- End stacked column -->

      {% elif forloop.counter >= 7 %}
      <!-- Fourth row: 3 normal articles side-by-side -->
      <a href="{{ post.url }}"
        class="col-span-1 sm:col-span-1 lg:col-span-2 bg-white shadow-sm overflow-hidden flex flex-col group">
        <div class="relative">
          {% for block in post.body %}
          {% if block.block_type == 'main_image' %}
          {% image block.value fill-600x400 as img %}
          <img src="{{ img.url }}" alt="{{ post.title }}" class="w-full h-64 object-cover">
          {% endif %}
          {% endfor %}
          <!--  {% if post.typeArticle == "intervju" or post.typeArticle == "anmeldelse" %}-->
        <!--  <div class="absolute bottom-0 left-2 translate-y-1/2">-->
        <!--    <div class="interview-parallelogram text-white text-xs font-bold px-8 py-2">-->
        <!--      {{ post.get_typeArticle_display }}-->
        <!--    </div>-->
        <!--  </div>-->
        <!--  {% endif %}-->

        </div>
        <div class="p-4 flex flex-col flex-1">
          <h2 class="font-inter text-[24px] leading-[1.5] text-[#6F1228] group-hover:text-red-700">{{ post.title }}</h2>
        </div>
      </a>
      {% endif %}

      {% endfor %}
    </div>
  
  </main>
<!-- A-lista seksjon -->
<section class="bg-[#FBF9FA] py-4">
  <div class="max-w-[950px] mx-auto">
    
    <!-- Rosa bakgrunnsboks med luft rundt innholdet -->
    <div class="bg-[#FFDCDC] px-6 py-8">
      
      <!-- Tittel med venstre strek -->
      <div class="flex items-start mb-6">
        <div class="w-2 h-6 bg-[#511120] rounded-sm mr-4"></div>
        <h2 class="text-xl font-bold text-[#511120] uppercase">Listemusikk</h2>
      </div>

      <!-- Kort -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        {% for item in latest_alister %}
        <a href="{{ item.url }}" class="bg-white shadow-sm group transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">

          <!-- Topp-bar -->
          <div class="bg-[#6F1228] text-white p-4 flex justify-between items-start h-[110px]">
            <div>
              <h3 class="text-base font-bold uppercase leading-snug">A-LISTA</h3>
              {% if item.dato %}
              <p class="mt-2 font-normal text-[16px] leading-[1.5]">Uke {{ item.dato|date:"W" }}–{{ item.dato|date:"W"|add:"1" }}</p>
              {% endif %}
            </div>
            <div class="text-xl leading-none">→</div>
          </div>

          <!-- Bilde -->
          <div>
            {% for block in item.content %}
              {% if block.block_type == "main_image" %}
                {% image block.value fill-600x400 as img %}
                <img src="{{ img.url }}" alt="{{ item.title }}" class="w-full h-60 object-cover" />
              {% endif %}
            {% endfor %}
          </div>

        </a>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<!-- Anmeldelser -->
<section class="bg-[#FBF9FA] py-4 px-4">
  <div class="max-w-[950px] mx-auto">
    
    <!-- Rosa boks med padding -->
    <div class="bg-[#FFDCDC] px-6 py-8">

      <!-- Tittel med strek -->
      <div class="flex items-start mb-6">
        <div class="w-2 h-6 bg-[#511120] rounded-sm mr-4"></div>
        <h2 class="text-xl font-bold text-[#511120] uppercase">Anmeldelser</h2>
      </div>

      <!-- Kortgrid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        {% for post in latest_reviews %}
        <a href="{{ post.url }}" class="bg-white shadow-sm group transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">

          <!-- Topp-bar -->
          <div class="bg-[#6F1228] text-white p-4 flex justify-between items-start h-[110px]">
            <div>
              <p class="text-base font-bold uppercase leading-snug">
                {% if post.overtittel %}
                  {{ post.overtittel }}
                {% else %}
                  Anmeldelse
                {% endif %}
              </p>
              <p class="mt-2 font-normal text-[16px] leading-[1.5]">“{{ post.title }}”</p>
            </div>
            <div class="text-xl leading-none">→</div>
          </div>

          <!-- Bilde -->
          <div>
            {% for block in post.body %}
              {% if block.block_type == "main_image" %}
                {% image block.value fill-600x400 as img %}
                <img src="{{ img.url }}" alt="{{ post.title }}" class="w-full h-60 object-cover" />
              {% endif %}
            {% endfor %}
          </div>

        </a>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<!-- Intervjuer -->
<section class="bg-[#FBF9FA] py-4 px-4">
  <div class="max-w-[950px] mx-auto">
    
    <!-- Rosa bakgrunn med innvendig padding -->
    <div class="bg-[#FFDCDC] px-6 py-8">

      <!-- Tittel med strek -->
      <div class="flex items-start mb-6">
        <div class="w-2 h-6 bg-[#511120] rounded-sm mr-4"></div>
        <h2 class="text-xl font-bold text-[#511120] uppercase">Intervjuer</h2>
      </div>

      <!-- Grid med kort -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-6">
        {% for post in latest_interviews %}
        <a href="{{ post.url }}" class="bg-white shadow-sm group transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">

          <!-- Toppbar -->
          <div class="bg-[#6F1228] text-white p-4 flex justify-between items-start h-[110px]">
            <div>
              <p class="text-base font-bold uppercase leading-snug">
                {% if post.overtittel %}{{ post.overtittel }}{% else %} Intervju {% endif %}
              </p>
              <p class="mt-2 font-normal text-[16px] leading-[1.5]">{{ post.title }}</p>
            </div>
            <div class="text-xl leading-none">→</div>
          </div>

          <!-- Bilde -->
          <div>
            {% for block in post.body %}
              {% if block.block_type == "main_image" %}
                {% image block.value fill-600x400 as img %}
                <img src="{{ img.url }}" alt="{{ post.title }}" class="w-full h-60 object-cover" />
              {% endif %}
            {% endfor %}
          </div>

        </a>
        {% endfor %}
      </div>
    </div>
  </div>
</section>



</body>

</html>



{% endblock %}

