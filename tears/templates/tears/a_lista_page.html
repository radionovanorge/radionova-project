{% extends "tears/base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block content %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-lista</title>
    <script src="https://cdn.tailwindcss.com"></script>

</head>
<div class=" w-full p-10 mb-4">
     <!-- Breadcrumb -->
       <div class="text-sm text-gray-500 mb-4 mt-1 max-w-[1068px] mx-auto">
    {% if self.get_ancestors|length > 1 %}
    <nav aria-label="Breadcrumb">
        <ul class="flex items-center space-x-2 flex-wrap">
            {% for p in self.get_ancestors %}
            {% if not p.is_root %}
            <li class="flex items-center {% if forloop.counter > 1 and forloop.counter < forloop.parentloop.counter0|add:'-1' %}hidden sm:flex{% endif %}">
                <a href="{{ p.url }}" class="hover:text-red-600 transition-colors">{{ p.title }}</a>
                <span class="mx-2 text-gray-400">→</span>
            </li>
            {% endif %}
            {% endfor %}
            <!-- Show ellipsis on small screens if there are hidden items -->
            {% if self.get_ancestors|length > 3 %}
            <li class="sm:hidden flex items-center">
                <span class="text-gray-400">...</span>
                <span class="mx-2 text-gray-400">→</span>
            </li>
            {% endif %}
            <!-- Current Page -->
            <li class="text-red-600 font-semibold">{{ self.title }}</li>
        </ul>
    </nav>
    {% endif %}
</div>
    <div class="max-w-[910px] mx-auto px-4 mt-10">
     

      <!-- Page Title -->
      <h1 class="text-[47px] font-bold text-[#511120] mb-6">{{ page.title }}</h1>

      <!-- Ingress -->
      <p class="text-lg text-gray-800 mb-8 leading-relaxed">{{ page.ingress }}</p>
    </div>


    <!-- Main Image -->
    <div class="max-w-[910px] mx-auto px-4 mb-2">
      {% for block in page.content %}
      {% if block.block_type == "main_image" %}
      {% image block.value fill-910x500 class="rounded shadow-md w-full object-cover" %}
      {% endif %}
      {% endfor %}
      {% if page.imageDecription %}
      <p class="text-xs text-gray-500 mt-2">{{ page.imageDecription }}</p>
      {% endif %}
      
    </div>
  </div>
  <!-- Meta Info -->
  <main class=" bg-[#FFF7F7]">
  <div class="max-w-[910px] mx-auto px-4 text-sm text-gray-600 mb-2 py-8">
    <p>Publisert: {{ page.date }}</p>
    <p>Skrevet av {{ page.forfatter }} for <a class="text-[#511120] font-semibold" href="{{page.program.url}}">{{ page.program }}</a></p>
  </div>

  <!-- Article Content -->
 <div class="max-w-[910px] mx-auto px-4 prose prose-xl prose-img:rounded-lg prose-p:leading-relaxed ">
  {% for block in page.body %}
    {% if block.block_type == "content" %}
      {{ block.value }}
      
    {% elif block.block_type == "image_with_description" %}
      {% image block.value.image fill-1200x600 class="rounded shadow-md w-full object-cover" %}
      
      {% if block.value.description %}
        <p class="text-xs text-gray-500 -mt-6">{{ block.value.description }}</p>
      {% endif %}
      
      {% elif block.block_type == "flex_block" %}
        {% include_block block %}
   
     {% elif block.block_type == "quote" %}
<div class="my-8">
    <div class="bg-[#FFDCDC] p-6">
        <p class="text-lg leading-relaxed text-gray-900">
            {{ block.value.quote }}
        </p>
      </div>
    {% if block.value.attribution %}
    <p class="mt-4 text-gray-700 text-base italic">
       <p>- {{ block.value.attribution }}
    </p>
    {% endif %}
</div>
{% endif %}
           
    
  {% endfor %}
</div>
  </div>
  <br><br>

<!-- Article Content -->
 <div class="max-w-[910px] mx-auto px-4 prose prose-xl prose-img:rounded-lg prose-p:leading-relaxed">
  {% for block in page.content %}
    {% if block.block_type == "content" %}
      {{ block.value|richtext }}
    {% endif %}
  {% endfor %}
</div>
</main>
<!-- Spotify Embed Section -->
<!-- SPOTIFY SECTION -->
<section class="bg-[#fff6f7] py-12 px-4">
  <div class="max-w-[910px] mx-auto">
    <p class="text-sm text-gray-900 font-medium mb-4">
      Nåværende og tidligere A-lister finner du i sin helhet på Spotify
    </p>
    <div class="w-full h-[352px] relative">
      <iframe
        src="https://open.spotify.com/embed/playlist/1a2U1ZAuWNdVSRCXQtLAws?utm_source=generator&theme=0"
        style="top: 0; left: 0; width: 100%; height: 100%; position: absolute; border: 0;"
        allowfullscreen
        allow="clipboard-write *; encrypted-media *; fullscreen *; picture-in-picture *;">
      </iframe>
    </div>
  </div>
</section>

<section class="bg-[#FFF7F7] py-12 px-4">
  <div class="max-w-6xl mx-auto">
    <h2 class="text-xl font-semibold mb-6">Tidligere A-lister</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      {% for item in page.get_latest_alister %}
        <a href="{{ item.url }}" class="block group">
          <div class="aspect-w-16 aspect-h-9 overflow-hidden rounded shadow">
            {% for block in item.content %}
              {% if block.block_type == 'main_image' %}
                {% image block.value fill-600x338 as preview_img %}
                <img src="{{ preview_img.url }}" alt="{{ item.title }}"
                     class="object-cover w-full h-full transition-transform group-hover:scale-105" />
                
              {% endif %}
            {% endfor %}
          </div>
          <p class="mt-2 text-xl text-gray-700">{{ item.title }}</p>
        </a>
      {% endfor %}
    </div>

   
 
    <div class="mt-6 text-right">
      <a href="/nettsaker/?kategori=a-lista" class="text-lg text-red-600 hover:text-grey-700 underline">Alle A-lister →</a>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
{% endblock %}


    
